
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Dart语言简介(翻译) - { vampirefan's   Harbor }</title>
  <meta name="author" content="vampirefan">

  
  <meta name="description" content="前面的话 一直对网站建设和前端设计都有一些兴趣，可是发现水还是很深的，从语言到框架，花样繁多，技术路线也是各色各样，玩了好久了，发现自己还是没有入门的感觉。找不着一个切入点，也不知道怎么搭建一个理想的完全受自己掌控且功能全面，简洁大方的系统。 Dart提出不久，从理念上来说还是比较切入我的心理的。 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://vampirefan.github.com/blog/2012/09/26/you-lan-dartyu-yan-fan-yi/">
  <!-- <link href="/favicon.png" rel="icon"> -->
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="{ vampirefan's   Harbor }" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<!-- <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css"> -->

<!-- <link href='http://fonts.googleapis.com/css?family=Cherry+Cream+Soda' rel='stylesheet' type='text/css'> -->
<link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css">

<script type="text/javascript" src="/javascripts/audio-player.js"></script>    
<script type="text/javascript">  
    AudioPlayer.setup("http://wpaudioplayer.com/wp-content/plugins/audio-player/assets/player.swf?ver=2.0.4.1", {
    	transparentpagebg: "yes",  
    	initialvolume: 100 ,
        width: 320
    });  
</script>  
<script type="text/javascript" src="/javascripts/clearlink.js"></script>
<script type="text/javascript" src="/javascripts/xttop_mini.js"></script>
<script type="text/javascript" src="/javascripts/smoothscroll.js"></script>

<meta name="google-site-verification" content="uaV6_4WIvqoYYcyUwLP5hifyZPjRYFSeGeXaBmt1pNM" />
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-33010606-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="no-sidebar"  >
  <header role="banner"><hgroup>
  <h1><a href="/">{ vampirefan's   Harbor }</a></h1>
  
    <h2>Life is like a box of chocolates, you never know what you're gonna get. --Forrest Gump</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <!-- <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li> -->
  
</ul>
  
<form action="http://google.com/search" method="get" id="searchform">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:vampirefan.github.com" />
    <input class="search" type="text" name="q" id="q" results="0" placeholder="Search ..."/>
    <!-- <input type="submit" class="submit" name="submit" id="searchsubmit" value="Search"> -->
  </fieldset>
</form>
  

<ul class="main-navigation">
  <li><a href="/">&hearts;&#65509;Home</a></li>
  <li><a href="/about-here/">About</a></li>
  <li><a href="/blog/archives/">All</a></li>
  <li><a href="/blog/categories/share/">Share</a></li>
  <li><a href="/blog/categories/it/">IT</a></li>
  <li><a href="/blog/categories/life/">Life</a></li>
  <li><a href="/blog/categories/thinking/">Thinking</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  

  <header>
    
      <h1 class="entry-title">Dart语言简介(翻译)</h1>
    
  </header>

  <footer>
    
      <p class="date">
        








  


<time datetime="2012-09-26T21:07:00+08:00" pubdate data-updated="true">2012-09-26 09:07PM</time>
      </p>
    
  </footer>
  <footer>
    
      <p class="meta">
        
  

<span class="byline author vcard">@<span class="fn">vampirefan</span></span>

        

<span class="categories">
  
    <a class='category' href='/blog/categories/coding/'>Coding</a>, <a class='category' href='/blog/categories/dart/'>Dart</a>, <a class='category' href='/blog/categories/share/'>Share</a>, <a class='category' href='/blog/categories/webdev/'>WebDev</a>
  
</span>


        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </footer>

<div class="entry-content"><h2 id="section">前面的话</h2>

<p>一直对网站建设和前端设计都有一些兴趣，可是发现水还是很深的，从语言到框架，花样繁多，技术路线也是各色各样，玩了好久了，发现自己还是没有入门的感觉。找不着一个切入点，也不知道怎么搭建一个理想的完全受自己掌控且功能全面，简洁大方的系统。</p>

<p>Dart提出不久，从理念上来说还是比较切入我的心理的。不论以后Dart语言的发展如何，我都决定花一些精力来学习和使用这样一个新语言，新技术。希望我的技能可以随着它一起发展。</p>

<p>下面我从官方的资料开始边翻译边学习。
<!--more--></p>

<h2 id="dart">Dart语言简介(翻译)</h2>

<p>原文官网：<a href="http://www.dartlang.org/docs/language-tour/">A Tour of the Dart Language</a>     </p>

<p>参考网站：<a href="http://dart.lidian.info/wiki/Language_Tour#.E8.BF.90.E7.AE.97.E7.AC.A6">Dart 语言导览</a></p>

<p>欢迎使用Dart！我们将给你展示Dart语言的各个主要功能，从变量到操作符再到类和库，假设你已经知道用其他某些语言编写程序。</p>

<blockquote>
  <p>Tip:在Dart编辑器里新建一个服务应用工程来玩Dart的各个功能。请在<a href="http://www.dartlang.org/docs/editor/getting-started/">Getting Started with Dart Editor</a>找向导。</p>
</blockquote>

<p>也可以在<a href="http://www.dartlang.org/docs/spec/index.html">Dart Language Specification</a>中随时寻求更详细的帮助。</p>

<h2 id="0">0.目录</h2>

<ol>
  <li><a href="#1">一个基本的Dart程序(A basic Dart program)</a></li>
  <li><a href="#2">变量(Variables)</a></li>
  <li><a href="#3">内建类型(Built-in types)</a>
    <ul>
      <li><a href="#3.1">字符串(strings)</a></li>
      <li><a href="#3.2">数字(numbers)</a></li>
      <li><a href="#3.3">布尔(booleans)</a></li>
      <li><a href="#3.4">列表(lists, also known as arrays)</a></li>
      <li><a href="#3.5">映射(maps)</a></li>
    </ul>
  </li>
  <li><a href="#4">函数(Functions)</a></li>
  <li><a href="#5">操作符/运算符(Operators)</a>
    <ul>
      <li><a href="#5.1">算术运算符(arithmetic operators)</a></li>
      <li><a href="#5.2">相等性与关系运算符(equality and relational operators)</a></li>
      <li><a href="#5.3">赋值运算符(assignment operators)</a></li>
      <li><a href="#5.4">逻辑运算符(logical operators)</a></li>
      <li><a href="#5.5">位操作与移位运算符(bitwise and shift operators)</a></li>
      <li><a href="#5.6">其他运算符(other operators)</a></li>
      <li><a href="#5.7">运算符作为方法调用(operators as methods)</a></li>
    </ul>
  </li>
  <li><a href="#6">控制流(Control flow)</a>
    <ul>
      <li><a href="#6.1">If/else(If and else)</a></li>
      <li><a href="#6.2">For循环(For loops)</a></li>
      <li><a href="#6.3">While/do while(While and do while)</a></li>
      <li><a href="#6.4">Break/continue(Break and continue)</a></li>
      <li><a href="#6.5">Switch/case(Switch and case)</a></li>
      <li><a href="#6.6">Assert(Assert)</a></li>
    </ul>
  </li>
  <li><a href="#7">异常(Exceptions)</a></li>
  <li><a href="#8">类(Classes)</a></li>
  <li><a href="#9">接口(Classes)</a></li>
  <li><a href="#10">泛型(Generics)</a></li>
  <li><a href="#11">库和可访问性(Libraries and visibility)</a></li>
  <li><a href="#12">隔离(Isolates)</a></li>
  <li><a href="#13">类型定义(Typedefs)</a></li>
  <li><a href="#14">注释(Comments)</a></li>
</ol>

<h2 id="1">1.一个基本的Dart程序(A basic Dart program)</h2>

<p>这是一些使用Dart最基本功能的代码</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="c1">// Define a function.</span>
</span><span class="line"><span class="n">printNumber</span><span class="p">(</span><span class="kt">num</span> <span class="n">smallNumber</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="k">assert</span><span class="p">(</span><span class="n">smallNumber</span> <span class="o">&lt;</span> <span class="m">100</span><span class="p">);</span>            <span class="c1">// Check our assumptions.</span>
</span><span class="line">  <span class="n">print</span><span class="p">(</span><span class="s2">&quot;The number is </span><span class="si">$</span><span class="n">smallNumber</span><span class="s2">.&quot;</span><span class="p">);</span> <span class="c1">// Print to the console.</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="c1">// This is where the app starts executing.</span>
</span><span class="line"><span class="n">main</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">  <span class="kd">var</span> <span class="kt">num</span><span class="n">ber</span> <span class="o">=</span> <span class="m">42</span><span class="p">;</span>           <span class="c1">// Declare and initialize a variable.</span>
</span><span class="line">  <span class="n">printNumber</span><span class="p">(</span><span class="kt">num</span><span class="n">ber</span><span class="p">);</span>       <span class="c1">// Call a function.</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>下面是该程序中大部分Dart应用都能用到的部分：</p>

<p><strong>//</strong> <br />
注释；和其他语言相同。
    /* 注释多行 */</p>

<p><strong>num</strong> <br />
一种类型，一些其他的<a href="http://www.dartlang.org/docs/language-tour/#built-in-types">内建类型</a>有 Sting, int, bool.</p>

<p><strong>assert()</strong>  <br />
测试代码使用的<a href="http://www.dartlang.org/docs/language-tour/#assert">断言</a>的方法。</p>

<p><strong>100</strong> <br />
<a href="http://www.dartlang.org/docs/language-tour/#numbers">数值类型</a></p>

<p><strong>print()</strong> <br />
简单的输出</p>

<p><strong>”../”(或者’…’)</strong> <br />
<a href="http://www.dartlang.org/docs/language-tour/#strings">字符串类型</a></p>

<p><strong>$text</strong> <br />
字符串内插入变量的字符串值或toString()的返回值。</p>

<p><strong>main()</strong> <br />
应用开始执行时特别的，必需的顶级函数。</p>

<p><strong>var</strong> <br />
声明一个无特别类型的变量</p>

<h3 id="section-1">样式</h3>

<p>我们的代码遵循<a href="http://www.dartlang.org/articles/style-guide/">Dart Style Guide</a>中的约定。 譬如说，约定缩进长度为两个空格。</p>

<h3 id="section-2">运行时模式</h3>

<p>Dart程序可以运行在产品模式或测试模式。</p>

<p><em>产品模式(Production mode)</em>是Dart程序默认的运行模式， 基于速度优化。生产模式下，可选的静态类型声明会被忽略。</p>

<p><em>测试模式(Checked mode)</em>是适合开发者使用的模式， 可帮助你揪出运行过程中的一些类型错误。 例如，如果将非字符串数据赋值给声明为String类型的变量， 则会报告异常。</p>

<p>我们建议你在测试模式下开发与调试， 而在产品模式下部署。</p>

<p><a href="#0">回到目录</a></p>

<h2 id="2">2.变量(Variables)</h2>

<p>这是创建变量并给其赋值的例子：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Bob&#39;</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>变量及引用。名为<code>name</code>的变量包含对值为<code>"Bob"</code>的 String 对象的引用。</p>

<p><strong>默认值</strong>  <br />
未初始化的变量均有一初始值<code>null</code>。包括数字类型，属性均为对象。</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kt">int</span> <span class="n">lineCount</span><span class="p">;</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">lineCount</span> <span class="o">==</span> <span class="kc">null</span><span class="p">);</span> <span class="c1">// Variables (even numbers) are initially null.</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>可选类型</strong> <br />
你可以选择在变量声明语句中加上静态类型：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kt">String</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Bob&#39;</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>添加类型名称有助于清晰地表达你的意图。 编译器和编辑器等工具可以利用这些类型声明提供bug 预警与代码补全功能。</p>

<p><strong>final</strong> <br />
如果你不打算改变某个变量的值，可以使用<code>final</code>代替<code>var</code>，或者在类型名称前加上<code>final</code>关键字。<code>final</code>变量一旦赋值，便无法再更改。</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">final</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Bob&#39;</span><span class="p">;</span> <span class="c1">// Or: final String name = &#39;Bob&#39;;</span>
</span><span class="line"><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Alice&#39;</span><span class="p">;</span>     <span class="c1">// ERROR</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>总结</strong> <br />
尽管Dart中定义变量的类型并不是强制的，但我们通常推荐在声明变量时定义类型。 变量可以标记为<code>final</code>以锁定其值。未初始化的变量均有初始值<code>null</code>。</p>

<p><a href="#0">回到目录</a></p>

<h2 id="3">3.内建类型(Built-in types)</h2>

<p>Dart语言对以下类型提供特别支持：</p>

<ul>
  <li><a href="#3.1">字符串(strings)</a></li>
  <li><a href="#3.2">数字(numbers)</a></li>
  <li><a href="#3.3">布尔(booleans)</a></li>
  <li><a href="#3.4">列表(lists, also known as arrays)</a></li>
  <li><a href="#3.5">映射(maps)</a></li>
</ul>

<p>你可以使用常量初始化任一特殊类型对象。例如，’这是一个字符串’是字符串常量，而<code>true</code>是布尔型常量。</p>

<p>由于Dart中的所有变量均为对象（某类的一个实例） 你通常可以用构造函数创建变量。 对内置类型的变量也适用。 例如，你可以使用<code>Map()</code>构造函数创建映射，代码为<code>new Map()</code>。</p>

<p><a href="#0">回到目录</a></p>

<h3 id="3.1">字符串(strings)</h3>

<p>Dart中的字符串是一组<code>Unicode</code>字符代码的序列。 你可以使用单引号或双引号创建字符串：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">s1</span> <span class="o">=</span> <span class="s1">&#39;Single quotes work well for string literals.&#39;</span><span class="p">;</span>
</span><span class="line"><span class="kd">var</span> <span class="n">s2</span> <span class="o">=</span> <span class="s2">&quot;Double quotes work just as well.&quot;</span><span class="p">;</span>
</span><span class="line"><span class="kd">var</span> <span class="n">s3</span> <span class="o">=</span> <span class="s1">&#39;It\&#39;</span><span class="n">s</span> <span class="n">easy</span> <span class="n">to</span> <span class="n">escape</span> <span class="n">the</span> <span class="n">string</span> <span class="n">delimiter</span><span class="p">.</span><span class="s1">&#39;;</span>
</span><span class="line"><span class="s1">var s4 = &quot;It&#39;</span><span class="n">s</span> <span class="n">even</span> <span class="n">easier</span> <span class="n">to</span> <span class="n">just</span> <span class="n">use</span> <span class="n">the</span> <span class="n">other</span> <span class="n">string</span> <span class="n">delimiter</span><span class="p">.</span><span class="s2">&quot;;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>你可以使用<code>${expression}</code>在字符串中嵌入表达式数值。 如果表达式是变量名称，你可以省去<code>{}</code>。</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;string interpolation&#39;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="s1">&#39;Dart has </span><span class="si">$</span><span class="n">s</span><span class="s1">, which is very handy.&#39;</span> <span class="o">==</span>
</span><span class="line">       <span class="s1">&#39;Dart has string interpolation, which is very handy.&#39;</span><span class="p">);</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="s1">&#39;That deserves all caps. </span><span class="si">${</span><span class="n">s</span><span class="p">.</span><span class="n">toUpperCase</span><span class="p">()</span><span class="si">}</span><span class="s1"> is very handy!&#39;</span> <span class="o">==</span>
</span><span class="line">       <span class="s1">&#39;That deserves all caps. STRING INTERPOLATION is very handy!&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<blockquote>
  <p>Tip:<code>==</code>运算符用以比较两个对象是否对等。在strings的例子里，它们如果具有相同的字符及顺序便是相等的。</p>
</blockquote>

<p>您可以将相邻的字符串常量连接为字符串：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;String &#39;&#39;concatenation&#39;</span>
</span><span class="line">        <span class="s2">&quot; works even over line breaks.&quot;</span><span class="p">;</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">s</span> <span class="o">==</span> <span class="s1">&#39;String concatenation works even over line breaks.&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>另一种创建多行字符串的方法是使用三个引号，单双皆可。</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">s1</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
</span><span class="line"><span class="s1">You can create</span>
</span><span class="line"><span class="s1">multi-line strings like this one.</span>
</span><span class="line"><span class="s1">&#39;&#39;&#39;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="n">s2</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;This is also a</span>
</span><span class="line"><span class="s2">multi-line string.&quot;&quot;&quot;</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>你可以在字符串开头加上<code>@</code>创建“纯”字符串（即赋值时不转义）。</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">s</span> <span class="o">=</span> <span class="s2">@&quot;In a raw string, even \n isn&#39;t special.&quot;</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>在字符串连接的方法下，你可以同时使用“纯”字符串和插入字符串方法来创建一个字符串。</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">x</span> <span class="o">=</span> <span class="m">123</span><span class="p">;</span>
</span><span class="line"><span class="kd">var</span> <span class="n">s</span> <span class="o">=</span> <span class="s1">@&#39;$x&#39;</span> <span class="s1">&#39;</span><span class="si">$</span><span class="n">x</span><span class="s1">&#39;</span> <span class="s1">@&#39;$x&#39;</span><span class="p">;</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">s</span> <span class="o">==</span> <span class="s1">@&#39;$x123$x&#39;</span><span class="p">);</span> <span class="c1">// The string has these characters: $x123$x</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>String方法</strong></p>

<p>所有字符串常量的类型均为<code>String</code>。<code>String</code>有一些实用方法，你可以通过它们确定一个字符串开始于、结束于或者是包含另一个字符串。</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">fullName</span> <span class="o">=</span> <span class="s1">&#39;Cuthbert Musgrave Girdlestone, III&#39;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">fullName</span><span class="p">.</span><span class="n">startsWith</span><span class="p">(</span><span class="s1">&#39;Cuthbert&#39;</span><span class="p">));</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">fullName</span><span class="p">.</span><span class="n">endsWith</span><span class="p">(</span><span class="s1">&#39;III&#39;</span><span class="p">));</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">fullName</span><span class="p">.</span><span class="n">contains</span><span class="p">(</span><span class="k">new</span> <span class="n">RegExp</span><span class="p">(</span><span class="s1">&#39;Musgrave&#39;</span><span class="p">)));</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>字符串对象无法改变（immutable），即只能创建，但不能修改。 如果您仔细阅读<a href="http://api.dartlang.org/dart_core/String.html">String API docs</a>会发现，所有方法都不会 真正地改变<code>String</code>类型的状态。例如，<code>replaceAll()</code>方法只返回新的<code>String</code>对象，而没有改变原来的<code>String</code> 对象。</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">greetingTemplate</span> <span class="o">=</span> <span class="s1">&#39;Hello, NAME!&#39;</span><span class="p">;</span>
</span><span class="line"><span class="kd">var</span> <span class="n">greeting</span> <span class="o">=</span> <span class="n">greetingTemplate</span><span class="p">.</span><span class="n">replaceAll</span><span class="p">(</span><span class="k">new</span> <span class="n">RegExp</span><span class="p">(</span><span class="s2">&quot;NAME&quot;</span><span class="p">),</span> <span class="s1">&#39;Bob&#39;</span><span class="p">);</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">greeting</span> <span class="o">!=</span> <span class="n">greetingTemplate</span><span class="p">);</span> <span class="c1">// greetingTemplate didn&#39;t change.</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>可以在[string methods]找到更多的资料。</p>

<p><strong>SringBuffer方法</strong></p>

<p>要通过程序生成字符串，你可以使用<a href="http://api.dartlang.org/dart_core/StringBuffer.html">StringBuffer</a>。<code>StringBuffer</code>在调用<code>toString()</code>之前不会生成新的<code>String</code>对象。</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">sb</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">String</span><span class="n">Buffer</span><span class="p">();</span>
</span><span class="line">
</span><span class="line"><span class="n">sb</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Use a StringBuffer &quot;</span><span class="p">);</span>
</span><span class="line"><span class="n">sb</span><span class="p">.</span><span class="n">addAll</span><span class="p">([</span><span class="s2">&quot;for &quot;</span><span class="p">,</span> <span class="s2">&quot;efficient &quot;</span><span class="p">,</span> <span class="s2">&quot;string &quot;</span><span class="p">,</span> <span class="s2">&quot;creation &quot;</span><span class="p">]);</span>
</span><span class="line"><span class="n">sb</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;if you are &quot;</span><span class="p">).</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;building lots of strings.&quot;</span><span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="n">fullString</span> <span class="o">=</span> <span class="n">sb</span><span class="p">.</span><span class="n">toString</span><span class="p">();</span>
</span><span class="line">
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">fullString</span> <span class="o">==</span>
</span><span class="line">    <span class="s1">&#39;Use a StringBuffer for efficient string creation &#39;</span>
</span><span class="line">    <span class="s1">&#39;if you are building lots of strings.&#39;</span><span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="n">sb</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>  <span class="c1">// All gone!</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">sb</span><span class="p">.</span><span class="n">toString</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<blockquote>
  <p>Tip:目前，编译成<code>JavaScript</code>后的StringBuffer`执行很慢。详情请见bug<a href="http://code.google.com/p/dart/issues/detail?id=1216">#1216</a>。</p>
</blockquote>

<p><a href="#0">回到目录</a></p>

<h3 id="3.2">数字(numbers)</h3>

<p>Dart中的数字分为两种：</p>

<p><a href="http://api.dartlang.org/dart_core/int.html">int</a>  <br />
任意大小的整数 <br />
<a href="http://api.dartlang.org/dart_core/double.html">double</a> <br />
十进制64位双精度浮点数，遵循<code>IEEE 754</code>规范所约定的格式</p>

<p><code>int</code>和<code>double</code>都是<a href="http://api.dartlang.org/dart_core/num.html">num</a>的子接口。<code>num</code> 接口定义了基本的运算符，如<code>+、-、/、*</code>，以及位运算符，如<code>&gt;&gt;</code>。</p>

<p><code>num</code>接口中还有<code>abs()</code>、<code>ceil()</code>、<code>floor()</code>等方法。如果<code>num</code>及其子接口中没有您需要的功能，<code>Math</code>类中可能会有所提供。</p>

<p>整数是没有小数点的数字。下面是一些定义整数常量的例子：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">x</span> <span class="o">=</span> <span class="m">1</span><span class="p">;</span>
</span><span class="line"><span class="kd">var</span> <span class="n">hex</span> <span class="o">=</span> <span class="mh">0xDEADBEEF</span><span class="p">;</span>
</span><span class="line"><span class="kd">var</span> <span class="n">bigInt</span> <span class="o">=</span> <span class="m">3465346583465243765923847659234765928347659567398475647495873984572947593470294387093493456870849216348723763945678236420938467345762304958724596873045876234572037862934765294365243652548673456705673465273465246734506873456729457623845623456234650457693475603768922346728346256</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<blockquote>
  <p>Tip:现阶段大整数在Dart和JavaScript中处理方式不同。</p>
</blockquote>

<p>如果数字含有小数点，则为双精度浮点数。 以下是一些定义双精度浮点数常量的例子：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">y</span> <span class="o">=</span> <span class="m">1.1</span><span class="p">;</span>
</span><span class="line"><span class="kd">var</span> <span class="n">exponents</span> <span class="o">=</span> <span class="m">1.42e5</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>你可以通过下面的方法进行字符串和数字类型之间的相互转换：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line">#<span class="k">import</span><span class="p">(</span><span class="s1">&#39;dart:math&#39;</span><span class="p">);</span> <span class="c1">// Needed for math functions. See libraries section</span>
</span><span class="line">
</span><span class="line"><span class="c1">// String -&gt; int</span>
</span><span class="line"><span class="kd">var</span> <span class="n">one</span> <span class="o">=</span> <span class="n">parseInt</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">);</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">one</span> <span class="o">==</span> <span class="m">1</span><span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="c1">// String -&gt; double</span>
</span><span class="line"><span class="kd">var</span> <span class="n">onePointOne</span> <span class="o">=</span> <span class="n">parseDouble</span><span class="p">(</span><span class="s2">&quot;1.1&quot;</span><span class="p">);</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">onePointOne</span> <span class="o">==</span> <span class="m">1.1</span><span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="c1">// int -&gt; String</span>
</span><span class="line"><span class="kd">var</span> <span class="n">oneAsString</span> <span class="o">=</span> <span class="m">1.</span><span class="n">toString</span><span class="p">();</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">oneAsString</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="c1">// double -&gt; String</span>
</span><span class="line"><span class="kd">var</span> <span class="n">piAsString</span> <span class="o">=</span> <span class="m">3.14159</span><span class="p">.</span><span class="n">toStringAsFixed</span><span class="p">(</span><span class="m">2</span><span class="p">);</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">piAsString</span> <span class="o">==</span> <span class="s2">&quot;3.14&quot;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><code>num</code>接口指定了传统的位运算包括<code>shift</code>,<code>AND</code>,<code>OR</code>。例如：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="k">assert</span><span class="p">((</span><span class="m">3</span> <span class="o">&lt;&lt;</span> <span class="m">1</span><span class="p">)</span> <span class="o">==</span> <span class="m">6</span><span class="p">);</span>  <span class="c1">// 0011 &lt;&lt; 1 == 0110</span>
</span><span class="line"><span class="k">assert</span><span class="p">((</span><span class="m">3</span> <span class="o">&gt;&gt;</span> <span class="m">1</span><span class="p">)</span> <span class="o">==</span> <span class="m">1</span><span class="p">);</span>  <span class="c1">// 0011 &gt;&gt; 1 == 0001</span>
</span><span class="line"><span class="k">assert</span><span class="p">((</span><span class="m">3</span> <span class="o">|</span> <span class="m">4</span><span class="p">)</span>  <span class="o">==</span> <span class="m">7</span><span class="p">);</span>  <span class="c1">// 0011 | 0100 == 0111</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><a href="#0">回到目录</a></p>

<h3 id="3.3">布尔(booleans)</h3>

<p>Dart有正式的布尔类型，名为<code>bool</code>。只有两种对象的类型为<code> bool</code>：布尔常量<code>true</code>和<code>false</code>。</p>

<p>当Dart需要一个布尔值时，如果该值不是<code>true</code>，那就肯定是<code>false</code>。不像在<code>JavaScript</code>中:<code>1</code>或<code>non-null</code>对象都是作为<code>true</code>对待。</p>

<p>例如，考虑下述的代码：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Bob&#39;</span><span class="p">;</span>
</span><span class="line"><span class="k">if</span> <span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="n">print</span><span class="p">(</span><span class="s2">&quot;You have a name!&quot;</span><span class="p">);</span> <span class="c1">// Prints in JavaScript, not in Dart.</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>在<code>JavaScript</code>环境，该段代码会输出”You have a name!”，因为 <code>name</code>是<code>non-null</code>对象。但在Dart中，这段代码不会输出任何内容，因为<code>name</code>被作为<code>false</code>对待（即<code>name != true</code>）。</p>

<p>下面是另一段 JavaScript 与 Dart 表现截然不同的示例代码：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="k">if</span> <span class="p">(</span><span class="m">1</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="n">print</span><span class="p">(</span><span class="s2">&quot;JavaScript prints this line because it thinks 1 is true.&quot;</span><span class="p">);</span>
</span><span class="line"><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class="line">  <span class="n">print</span><span class="p">(</span><span class="s2">&quot;Dart in production mode prints this line.&quot;</span><span class="p">);</span>
</span><span class="line">
</span><span class="line">  <span class="c1">// However, in checked mode, if (1) will throw an exception</span>
</span><span class="line">  <span class="c1">// because 1 is not a boolean.</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<blockquote>
  <p>Tip:上述代码在测试模式下不能通过。</p>
</blockquote>

<p>Dart对布尔值的处理方式是为了避免很多值被作为<code>true</code>对待 所引发的诸多奇怪现象。对你而言，应避免使用<code>if (nonboolean_value) </code>这样的代码，而应该对值进行显式检查。例如：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="c1">// Check for an empty string.</span>
</span><span class="line"><span class="kd">var</span> <span class="n">fullName</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">fullName</span><span class="p">.</span><span class="n">isEmpty</span><span class="p">());</span>
</span><span class="line">
</span><span class="line"><span class="c1">// Check for zero.</span>
</span><span class="line"><span class="kd">var</span> <span class="n">hitPoints</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">hitPoints</span> <span class="o">&lt;=</span> <span class="m">0</span><span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="c1">// Check for null.</span>
</span><span class="line"><span class="kd">var</span> <span class="n">unicorn</span><span class="p">;</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">unicorn</span> <span class="o">==</span> <span class="kc">null</span><span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="c1">// Check for NaN.</span>
</span><span class="line"><span class="kd">var</span> <span class="n">iMeantToDoThis</span> <span class="o">=</span> <span class="m">0</span><span class="o">/</span><span class="m">0</span><span class="p">;</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">iMeantToDoThis</span><span class="p">.</span><span class="n">isNaN</span><span class="p">());</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><a href="#0">回到目录</a></p>

<h3 id="3.4">列表(lists, also known as arrays)</h3>

<p>几乎所有编程语言中都有的最常见的集合或许就是<em>数组</em>了(或者称之为有顺序的对象集合)。在Dart中，数组属于<code>List</code>类型的对象，因此我们通常称之为列表。当你将<code>Dart</code>编译成<code>JavaScript</code>脚本时，Dart列表会被编译为<code>JavaScript</code>数组。</p>

<p>Dart列表常量与<code>JavaScript</code>数组常量一样。这是一个简单的Dart 列表：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">list</span> <span class="o">=</span> <span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>可以获取列表的长度以及引用列表元素，语法和<code>JavaScript</code>相同：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">list</span> <span class="o">=</span> <span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">];</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">list</span><span class="p">.</span><span class="n">length</span> <span class="o">==</span> <span class="m">3</span><span class="p">);</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">list</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="o">==</span> <span class="m">2</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>可以使用<code>add()</code>方法将元素添加到列表：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">list</span> <span class="o">=</span> <span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">];</span>
</span><span class="line"><span class="n">list</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="m">4</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>要将元素从列表移除（减短列表长度），使用<code>removeRange()</code>方法：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">list</span> <span class="o">=</span> <span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">];</span>
</span><span class="line"><span class="n">list</span><span class="p">.</span><span class="n">removeRange</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="m">1</span><span class="p">);</span> <span class="c1">// Remove the third element.</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>Iterating</strong>   </p>

<p>如果需要处理列表的每一个元素，可以使用<code>for</code>、<code>for...in</code>或 <code>forEach()</code>。如果需要当前遍历到的索引编号，使用<code>for</code>语句：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">list</span> <span class="o">=</span> <span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">];</span>
</span><span class="line"><span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="n">x</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">list</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="n">x</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="n">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">$</span><span class="n">x</span><span class="s1">: </span><span class="si">${</span><span class="n">list</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>如果不需要索引编号，可以使用<code>for...in</code>语句：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">list</span> <span class="o">=</span> <span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">];</span>
</span><span class="line"><span class="k">for</span> <span class="p">(</span><span class="kd">final</span> <span class="n">x</span> <span class="k">in</span> <span class="n">list</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="n">print</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>如果只是想对列表各元素应用某个函数，使用<code>forEach()</code>方法：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">list</span> <span class="o">=</span> <span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">];</span>
</span><span class="line"><span class="n">printElement</span><span class="p">(</span><span class="n">element</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">print</span><span class="p">(</span><span class="n">element</span><span class="p">);</span>  <span class="c1">// Define a function.</span>
</span><span class="line"><span class="n">list</span><span class="p">.</span><span class="n">forEach</span><span class="p">(</span><span class="n">printElement</span><span class="p">);</span>  <span class="c1">// Call the function on each list element.</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>或者更简洁地：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">list</span> <span class="o">=</span> <span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">];</span>
</span><span class="line"><span class="n">list</span><span class="p">.</span><span class="n">forEach</span><span class="p">((</span><span class="n">element</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">print</span><span class="p">(</span><span class="n">element</span><span class="p">));</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>List and Collection methods</strong></p>

<p><code>forEach()</code>方法是<code>List</code>接口及其超接口<code>Collection</code>所定义的诸多实用方法之一。其他还有如：<code>filter()</code>方法可返回新的集合，只包含满足特定条件的元素。<code>every()</code>与<code>some()</code>方法分别可用来检查集合是否匹配 所有条件或至少一个条件。<code>sort()</code>方法允许按任意需要的条件对列表进行排序。</p>

<p>关于列表的更多信息请见<a href="http://www.dartlang.org/docs/language-tour/#generics">Generics</a>。</p>

<p><a href="#0">回到目录</a></p>

<h3 id="3.5">映射(maps)</h3>

<p>总的来说，映射是包含键值对应关系的对象。Dart对映射的支持是通过映射常量以及<code>Map</code>接口实现的。</p>

<p>下面是简单Dart映射的例子：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">gifts</span> <span class="o">=</span> <span class="p">{</span>                         <span class="c1">// A map literal</span>
</span><span class="line"><span class="c1">// Keys       Values</span>
</span><span class="line">  <span class="s2">&quot;first&quot;</span>  <span class="o">:</span> <span class="s2">&quot;partridge&quot;</span><span class="p">,</span>
</span><span class="line">  <span class="s2">&quot;second&quot;</span> <span class="o">:</span> <span class="s2">&quot;turtledoves&quot;</span><span class="p">,</span>
</span><span class="line">  <span class="s2">&quot;fifth&quot;</span>  <span class="o">:</span> <span class="s2">&quot;golden rings&quot;</span><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>在映射常量中，每个<strong>键</strong>必须为字符串。如果您使用<code>Map</code>的构造函数，还有其他选择：键可以是字符串、数字或其他任意实现了[<code> Hashable</code>]接口(http://api.dartlang.org/dart_core/Hashable.html)的对象。</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Map</span><span class="p">();</span>                  <span class="c1">// Use a Map constructor.</span>
</span><span class="line"><span class="n">map</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;partridge&quot;</span><span class="p">;</span>                 <span class="c1">// Key is 1; value is &quot;partridge&quot;.</span>
</span><span class="line"><span class="n">map</span><span class="p">[</span><span class="m">2</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;turtledoves&quot;</span><span class="p">;</span>               <span class="c1">// Key is 2; value is &quot;turtledoves&quot;.</span>
</span><span class="line"><span class="n">map</span><span class="p">[</span><span class="m">5</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;golden rings&quot;</span><span class="p">;</span>              <span class="c1">// Key is 5; value is &quot;golden rings&quot;.</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>映射中的<strong>值</strong>可以是任意对象或<code>null</code>。</p>

<p>将新的键值对添加到现有映射中的方法与<code>JavaScript</code>中无异：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">gifts</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;first&quot;</span><span class="o">:</span> <span class="s2">&quot;partridge&quot;</span> <span class="p">};</span>
</span><span class="line"><span class="n">gifts</span><span class="p">[</span><span class="s2">&quot;fourth&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;calling birds&quot;</span><span class="p">;</span>    <span class="c1">// Add a key-value pair.</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>从映射中提取值的方法也和<code>JavaScript</code>中一样：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">gifts</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;first&quot;</span><span class="o">:</span> <span class="s2">&quot;partridge&quot;</span> <span class="p">};</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">gifts</span><span class="p">[</span><span class="s1">&#39;first&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;partridge&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>如果你查找的键在映射中不存在，将在返回中得到<code>null</code>。不过，由于值可以为<code>null</code>，可能需要使用<a href="http://api.dartlang.org/dart_core/Map.html#containsKey"><code>containsKey()</code></a>或<a href="http://api.dartlang.org/dart_core/Map.html#putIfAbsent"><code>putIfAbsent()</code></a>等方法获知<code>null</code>的确切情况。</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">gifts</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;first&quot;</span><span class="o">:</span> <span class="s2">&quot;partridge&quot;</span> <span class="p">};</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">gifts</span><span class="p">[</span><span class="s1">&#39;fifth&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="kc">null</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>使用<code>.length</code>可以获取映射中键值对的数目:</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">gifts</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;first&quot;</span><span class="o">:</span> <span class="s2">&quot;partridge&quot;</span> <span class="p">};</span>
</span><span class="line"><span class="n">gifts</span><span class="p">[</span><span class="s2">&quot;fourth&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;calling birds&quot;</span><span class="p">;</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">gifts</span><span class="p">.</span><span class="n">length</span> <span class="o">==</span> <span class="m">2</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>要从映射中移除键值对，可以使用<code>remove()</code>方法：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">gifts</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;first&quot;</span><span class="o">:</span> <span class="s2">&quot;partridge&quot;</span> <span class="p">};</span>
</span><span class="line"><span class="n">gifts</span><span class="p">[</span><span class="s2">&quot;fourth&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;calling birds&quot;</span><span class="p">;</span>
</span><span class="line"><span class="n">gifts</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;first&#39;</span><span class="p">);</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">gifts</span><span class="p">.</span><span class="n">length</span> <span class="o">==</span> <span class="m">1</span><span class="p">);</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">gifts</span><span class="p">[</span><span class="s1">&#39;first&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="kc">null</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>可以使用<code>Map.from()</code>构造函数复制映射：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">gifts</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;first&quot;</span><span class="o">:</span> <span class="s2">&quot;partridge&quot;</span> <span class="p">};</span>
</span><span class="line"><span class="kd">var</span> <span class="n">regifts</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Map</span><span class="p">.</span><span class="n">from</span><span class="p">(</span><span class="n">gifts</span><span class="p">);</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">regifts</span><span class="p">[</span><span class="s1">&#39;first&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;partridge&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>Iterating</strong></p>

<p>遍历映射的内容有几种方法。 使用<code>forEach()</code>方法 可同时访问键值。</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">gifts</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">  <span class="s2">&quot;first&quot;</span> <span class="o">:</span> <span class="s2">&quot;partridge&quot;</span><span class="p">,</span>
</span><span class="line">  <span class="s2">&quot;second&quot;</span><span class="o">:</span> <span class="s2">&quot;turtledoves&quot;</span><span class="p">,</span>
</span><span class="line">  <span class="s2">&quot;fifth&quot;</span> <span class="o">:</span> <span class="s2">&quot;golden rings&quot;</span><span class="p">};</span>
</span><span class="line"><span class="n">gifts</span><span class="p">.</span><span class="n">forEach</span><span class="p">((</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">$</span><span class="n">k</span><span class="s1"> : </span><span class="si">$</span><span class="n">v</span><span class="s1">&#39;</span><span class="p">));</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<blockquote>
  <p>Tip:不要指望forEach()按特定顺序返回键值对。</p>
</blockquote>

<p>如果只对键或值感兴趣，可以分别使用<code>getKeys()</code>或<code>getValues()</code>。两种方法均可返回<a href="http://api.dartlang.org/dart_core/Collection.html"><code>Collection</code></a>对象。</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">gifts</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;first&quot;</span><span class="o">:</span> <span class="s2">&quot;partridge&quot;</span><span class="p">,</span> <span class="s2">&quot;second&quot;</span><span class="o">:</span> <span class="s2">&quot;turtledoves&quot;</span><span class="p">};</span>
</span><span class="line"><span class="kd">var</span> <span class="n">values</span> <span class="o">=</span> <span class="n">gifts</span><span class="p">.</span><span class="n">getValues</span><span class="p">();</span>
</span><span class="line">
</span><span class="line"><span class="c1">//Print partridge and turtledoves, but not necessarily in that order.</span>
</span><span class="line"><span class="n">values</span><span class="p">.</span><span class="n">forEach</span><span class="p">((</span><span class="n">v</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">print</span><span class="p">(</span><span class="n">v</span><span class="p">));</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<blockquote>
  <p>Tip:映射对象本身不会扩展到<code>Collection</code>接口。</p>
</blockquote>

<h3 id="built-in-types">built-in types总结</h3>

<p>Dart的<a href="http://www.dartlang.org/docs/language-tour/#built-in-types">内建类型(built-in types)</a>均有特别的常量格式，并实现了内置接口。 例如，数字常量如<code>1</code>和<code>1.1</code>，它们实现了<code>num</code>接口。</p>

<p>你通常会用常量创建大多数内置类型对象，但也可以用构造函数。 布尔类型有所不同，因为您无法创建类型为<code>bool</code>的新对象；只能用<code>true</code>与<code>false</code>实现。</p>

<p>关于映射与列表的详细信息，请参见<a href="http://www.dartlang.org/docs/language-tour/#generics">泛型(Generics)</a>。</p>

<p><a href="#0">回到目录</a></p>

<h2 id="4">4.函数(Functions)</h2>

<p>这是一个简单的函数：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kt">String</span> <span class="n">say</span><span class="p">(</span><span class="kt">String</span> <span class="n">from</span><span class="p">,</span> <span class="kt">String</span> <span class="n">msg</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s2">&quot;</span><span class="si">$</span><span class="n">from</span><span class="s2"> says </span><span class="si">$</span><span class="n">msg</span><span class="s2">&quot;</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>这是调用该函数的示例：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">say</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;Hello&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;Bob says Hello&quot;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>若忽略类型，上面的代码也可以这样写：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="n">say</span><span class="p">(</span><span class="n">from</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s2">&quot;</span><span class="si">$</span><span class="n">from</span><span class="s2"> says </span><span class="si">$</span><span class="n">msg</span><span class="s2">&quot;</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>不过，我们推荐在函数定义处说明参数类型。</p>

<p><code>=&gt; e;</code>语法是<code>{ return e; }</code>的简写方式。如<code>say(from, msg) =&gt; "$from says $msg";</code>同下面的写法等效：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="n">say</span><span class="p">(</span><span class="n">from</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="k">return</span> <span class="s2">&quot;</span><span class="si">$</span><span class="n">from</span><span class="s2"> says </span><span class="si">$</span><span class="n">msg</span><span class="s2">&quot;</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>可选参数(Optional parameters)</strong></p>

<p>将函数参数放在<code>[]</code>括号内可将其标记为可选参数。</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kt">String</span> <span class="n">say</span><span class="p">(</span><span class="kt">String</span> <span class="n">from</span><span class="p">,</span> <span class="kt">String</span> <span class="n">msg</span><span class="p">,</span> <span class="p">[</span><span class="kt">String</span> <span class="n">device</span><span class="p">])</span> <span class="p">{</span>
</span><span class="line">  <span class="kd">var</span> <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">$</span><span class="n">from</span><span class="s2"> says </span><span class="si">$</span><span class="n">msg</span><span class="s2">&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="k">if</span> <span class="p">(</span><span class="n">device</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">$</span><span class="n">result</span><span class="s2"> with a </span><span class="si">$</span><span class="n">device</span><span class="s2">&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">  <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>下面是调用时不提供可选参数的例子：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">say</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;Howdy&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;Bob says Howdy&quot;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>下面是提供第三个参数调用该函数时的例子：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">say</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;Howdy&quot;</span><span class="p">,</span> <span class="s2">&quot;smoke signal&quot;</span><span class="p">)</span> <span class="o">==</span>
</span><span class="line">    <span class="s2">&quot;Bob says Howdy with a smoke signal&quot;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>可选参数的默认值(Default values for optional parameters)</strong></p>

<p>可以给可选参数指定默认值。默认值必须为编译时常量。 如果没有提供默认值，其值则为<code>null</code>（如我们在上例中看到的）。</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kt">String</span> <span class="n">say</span><span class="p">(</span><span class="kt">String</span> <span class="n">from</span><span class="p">,</span> <span class="kt">String</span> <span class="n">msg</span><span class="p">,</span>
</span><span class="line">    <span class="p">[</span><span class="kt">String</span> <span class="n">device</span><span class="o">=</span><span class="s1">&#39;carrier pigeon&#39;</span><span class="p">,</span> <span class="kt">String</span> <span class="n">mood</span><span class="p">])</span> <span class="p">{</span>
</span><span class="line">  <span class="kd">var</span> <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">$</span><span class="n">from</span><span class="s2"> says </span><span class="si">$</span><span class="n">msg</span><span class="s2">&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="k">if</span> <span class="p">(</span><span class="n">device</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">$</span><span class="n">result</span><span class="s2"> with a </span><span class="si">$</span><span class="n">device</span><span class="s2">&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">  <span class="k">if</span> <span class="p">(</span><span class="n">mood</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">$</span><span class="n">result</span><span class="s2"> (in a </span><span class="si">$</span><span class="n">mood</span><span class="s2"> mood)&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">  <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>如果省去可选参数，则会使用默认值：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">say</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;Howdy&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;Bob says Howdy with a carrier pigeon&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>你也可以将<code>null</code>传递给可选参数，改变默认其默认值</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">say</span><span class="p">(</span><span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="s1">&#39;Howdy&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;Bob says Howdy&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>命名参数(Named parameters)</strong>\</p>

<p>可选参数同时也是命名参数。</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">say</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;Howdy&quot;</span><span class="p">,</span> <span class="nl">device:</span> <span class="s2">&quot;tin can and string&quot;</span><span class="p">)</span> <span class="o">==</span>
</span><span class="line">    <span class="s2">&quot;Bob says Howdy with a tin can and string&quot;</span><span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">say</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;Howdy&quot;</span><span class="p">,</span> <span class="nl">mood:</span> <span class="s2">&quot;fresh&quot;</span><span class="p">)</span> <span class="o">==</span>
</span><span class="line">    <span class="s2">&quot;Bob says Howdy with a carrier pigeon (in a fresh mood)&quot;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>一级函式(First class functions)</strong></p>

<p>可以将函数作为参数传递给其他函数。例如：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">ages</span> <span class="o">=</span> <span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">7</span><span class="p">,</span><span class="m">10</span><span class="p">,</span><span class="m">14</span><span class="p">,</span><span class="m">21</span><span class="p">];</span>
</span><span class="line"><span class="kd">var</span> <span class="n">oddAges</span> <span class="o">=</span> <span class="n">ages</span><span class="p">.</span><span class="n">filter</span><span class="p">((</span><span class="n">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">i</span> <span class="o">%</span> <span class="m">2</span> <span class="o">==</span> <span class="m">1</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>上述例子可以达到以下效果</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kt">bool</span> <span class="n">isOdd</span><span class="p">(</span><span class="kt">num</span> <span class="n">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">i</span> <span class="o">%</span> <span class="m">2</span> <span class="o">==</span> <span class="m">1</span><span class="p">;</span>
</span><span class="line"><span class="kd">var</span> <span class="n">ages</span> <span class="o">=</span> <span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">7</span><span class="p">,</span><span class="m">10</span><span class="p">,</span><span class="m">14</span><span class="p">,</span><span class="m">21</span><span class="p">];</span>
</span><span class="line"><span class="kd">var</span> <span class="n">oddAges</span> <span class="o">=</span> <span class="n">ages</span><span class="p">.</span><span class="n">filter</span><span class="p">(</span><span class="n">isOdd</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>也可以将函数赋值给变量，比如：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">loudify</span> <span class="o">=</span> <span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="s1">&#39;!!! </span><span class="si">${</span><span class="n">msg</span><span class="p">.</span><span class="n">toUpperCase</span><span class="p">()</span><span class="si">}</span><span class="s1"> !!!&#39;</span><span class="p">;</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">loudify</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span> <span class="o">==</span>
</span><span class="line">    <span class="s1">&#39;!!! HELLO !!!&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><strong>词法封装(Lexical closures)</strong></p>

<p>函数可将周边区域定义的变量进行封装处理。下例展示了<code>makeAdder</code>函数如何捕获变量<code>n</code>并将其传递给<code>makeAdder</code>所返回的函数。不论所返回的函数在哪里调用，它都能使用变量<code>n</code>。</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="n">Function</span> <span class="n">makeAdder</span><span class="p">(</span><span class="kt">num</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="k">return</span> <span class="p">(</span><span class="kt">num</span> <span class="n">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">n</span> <span class="o">+</span> <span class="n">i</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="n">main</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">  <span class="kd">var</span> <span class="n">add2</span> <span class="o">=</span> <span class="n">makeAdder</span><span class="p">(</span><span class="m">2</span><span class="p">);</span>
</span><span class="line">  <span class="k">assert</span><span class="p">(</span><span class="n">add2</span><span class="p">(</span><span class="m">3</span><span class="p">)</span> <span class="o">==</span> <span class="m">5</span><span class="p">);</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>(特别感谢Bob Nystrom提供此例)</p>

<p><strong>返回值(Return values)</strong>
所有函数都会返回一个值。如果未指定返回值，则将在函数主体的末端隐含的调用<code>return null;</code>语句。</p>

<h3 id="summary-of-functions">函数总结(Summary of functions)</h3>
<p>Dart支持以及函式，以及可选参数、命名参数和参数默认值。函数可被赋值给变量，或作为参数传递给其他函数。函数还支持词法封装，可访问其直接词域以外的变量。</p>

<p><a href="#0">回到目录</a></p>

<h2 id="5">5.操作符/运算符(Operators)</h2>

<p>Dart支持运算符。它不仅定义运算符，还允许重新定义其中很多运算符。</p>

<p>下表按优先级顺序列出了Dart的全部运算符。</p>

<table>
  <thead>
    <tr>
      <th>描述(Description)</th>
      <th>操作符/运算符(Operators)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>一元后缀(unary postfix)</td>
      <td><code>expr++</code> <code>expr--</code> <code>()</code> <code>[]</code> .</td>
    </tr>
    <tr>
      <td>一元前缀(unary prefix)</td>
      <td><code>-expr</code> <code>!expr</code> <code>~expr</code> <code>++expr</code> <code>--expr</code></td>
    </tr>
    <tr>
      <td>乘除(multiplicative)</td>
      <td><code>*</code> <code>/</code> <code>%</code> <code>~/</code></td>
    </tr>
    <tr>
      <td>加减(additive)</td>
      <td><code>+</code> <code>-</code></td>
    </tr>
    <tr>
      <td>移位(shift)</td>
      <td><code>&lt;&lt;</code> <code>&gt;&gt;</code></td>
    </tr>
    <tr>
      <td>关系(relational)</td>
      <td><code>is</code> <code>is!</code> <code>&gt;=</code> <code>&gt;</code> <code>&lt;=</code> <code>&lt;</code></td>
    </tr>
    <tr>
      <td>相等性(equality)</td>
      <td><code>==</code> <code>!=</code> <code>===</code> <code>!==</code></td>
    </tr>
    <tr>
      <td>按位与(bitwise AND)</td>
      <td><code>&amp;</code></td>
    </tr>
    <tr>
      <td>按位异或(bitwise XOR)</td>
      <td><code>^</code></td>
    </tr>
    <tr>
      <td>按位或(bitwise OR)</td>
      <td><code>|</code></td>
    </tr>
    <tr>
      <td>逻辑与(logical AND)</td>
      <td><code>&amp;&amp;</code></td>
    </tr>
    <tr>
      <td>逻辑或(logical OR)</td>
      <td><code>||</code></td>
    </tr>
    <tr>
      <td>条件(conditional)</td>
      <td><code>expr ? expr : expr</code></td>
    </tr>
    <tr>
      <td>赋值(assignment)</td>
      <td><code>=</code> <code>*=</code> <code>/=</code> <code>~/=</code> <code>%=</code> <code>+=</code> <code>-=</code> <code>&lt;&lt;=</code> <code>&gt;&gt;=</code> <code>&amp;=</code> <code>^=</code> <code>|=</code></td>
    </tr>
  </tbody>
</table>

<p>例如，<code>%</code>运算符的优先级高于<code>==</code>，因此在其之前执行；而<code>==</code>的优先级又高于<code>&amp;&amp;</code>。这样的优先顺序意味着下面两行代码是等价执行的：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="k">if</span> <span class="p">((</span><span class="n">n</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="m">0</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">d</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="m">0</span><span class="p">))</span> <span class="c1">// Parens improve readability.</span>
</span><span class="line"><span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="m">0</span> <span class="o">&amp;&amp;</span> <span class="n">d</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="m">0</span><span class="p">)</span>     <span class="c1">// Harder to read, but equivalent.</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><a href="#0">回到目录</a></p>

<p>本章节包含以下话题：</p>

<ul>
  <li><a href="#5.1">算术运算符(arithmetic operators)</a></li>
  <li><a href="#5.2">相等性与关系运算符(equality and relational operators)</a></li>
  <li><a href="#5.3">赋值运算符(assignment operators)</a></li>
  <li><a href="#5.4">逻辑运算符(logical operators)</a></li>
  <li><a href="#5.5">位操作与移位运算符(bitwise and shift operators)</a></li>
  <li><a href="#5.6">其他运算符(other operators)</a></li>
  <li><a href="#5.7">运算符作为方法调用(operators as methods)</a></li>
</ul>

<h3 id="5.1">5.1算术运算符(arithmetic operators)</h3>
<p>Dart支持常用的算术运算符。</p>

<table>
  <thead>
    <tr>
      <th>运算符(Operator)</th>
      <th>意义(Meaning)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>+</code></td>
      <td>加(add)</td>
    </tr>
    <tr>
      <td><code>-</code></td>
      <td>减(subtract)</td>
    </tr>
    <tr>
      <td><code>-expr</code></td>
      <td>一元否定(unary negation: reverse the sign of the expression)</td>
    </tr>
    <tr>
      <td><code>*</code></td>
      <td>乘(multiply)</td>
    </tr>
    <tr>
      <td><code>/</code></td>
      <td>除(divide)</td>
    </tr>
    <tr>
      <td><code>~/</code></td>
      <td>除，返回结果整数部分(divide, returning an integer result)</td>
    </tr>
    <tr>
      <td><code>%</code></td>
      <td>求余(get the remainder)</td>
    </tr>
  </tbody>
</table>

<p>例子：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">a</span> <span class="o">=</span> <span class="m">2</span><span class="p">;</span>
</span><span class="line"><span class="kd">var</span> <span class="n">b</span> <span class="o">=</span> <span class="m">3</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="o">==</span> <span class="m">5</span><span class="p">);</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="n">b</span> <span class="o">==</span> <span class="o">-</span><span class="m">1</span><span class="p">);</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span> <span class="o">==</span> <span class="m">6</span><span class="p">);</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">a</span> <span class="o">/</span> <span class="n">b</span> <span class="o">&gt;</span> <span class="m">0.6</span> <span class="o">&amp;&amp;</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span> <span class="o">&lt;</span> <span class="m">0.7</span><span class="p">);</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">a</span> <span class="o">~/</span> <span class="n">b</span> <span class="o">==</span> <span class="m">0</span><span class="p">);</span>  <span class="c1">// Quotient</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">a</span> <span class="o">%</span> <span class="n">b</span> <span class="o">==</span> <span class="m">2</span><span class="p">);</span>   <span class="c1">// Remainder</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Dart还支持前后缀自增减运算符。</p>

<table>
  <thead>
    <tr>
      <th>运算符(Operator)</th>
      <th>意义(Meaning)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>++var</code></td>
      <td><code>var = var + 1</code> (expression value is <code>var + 1</code>)</td>
    </tr>
    <tr>
      <td><code>var++</code></td>
      <td><code>var = var + 1</code> (expression value is <code>var</code>)</td>
    </tr>
    <tr>
      <td><code>--var</code></td>
      <td><code>var = var - 1</code> (expression value is <code>var - 1</code>)</td>
    </tr>
    <tr>
      <td><code>var--</code></td>
      <td><code>var = var - 1</code> (expression value is <code>var</code>)</td>
    </tr>
  </tbody>
</table>

<p>例子：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="n">a</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span>
</span><span class="line"><span class="n">b</span> <span class="o">=</span> <span class="o">++</span><span class="n">a</span><span class="p">;</span>         <span class="c1">// Increment a before b gets its value.</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">);</span>  <span class="c1">// 1 == 1  </span>
</span><span class="line">
</span><span class="line"><span class="n">a</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span>
</span><span class="line"><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">++</span><span class="p">;</span>         <span class="c1">// Increment a AFTER b gets its value.</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">a</span> <span class="o">!=</span> <span class="n">b</span><span class="p">);</span>  <span class="c1">// 1 != 0</span>
</span><span class="line">
</span><span class="line"><span class="n">a</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span>
</span><span class="line"><span class="n">b</span> <span class="o">=</span> <span class="o">--</span><span class="n">a</span><span class="p">;</span>         <span class="c1">// Decrement a before b gets its value.</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">);</span>  <span class="c1">// -1 == -1</span>
</span><span class="line">
</span><span class="line"><span class="n">a</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span>
</span><span class="line"><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">--</span><span class="p">;</span>         <span class="c1">// Decrement a AFTER b gets its value.</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">a</span> <span class="o">!=</span> <span class="n">b</span><span class="p">)</span> <span class="p">;</span> <span class="c1">// -1 != 0</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><a href="#0">回到目录</a></p>

<h3 id="5.2">5.2相等性与关系运算符(equality and relational operators)</h3>

<table>
  <thead>
    <tr>
      <th>运算符(Operator)</th>
      <th>意义(Meaning)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>==</code></td>
      <td>equal (see discussion below)</td>
    </tr>
    <tr>
      <td><code>!=</code></td>
      <td>not equal</td>
    </tr>
    <tr>
      <td><code>===</code></td>
      <td>same instance</td>
    </tr>
    <tr>
      <td><code>!==</code></td>
      <td>not the same instance</td>
    </tr>
    <tr>
      <td><code>&gt;</code></td>
      <td>greater than</td>
    </tr>
    <tr>
      <td><code>&lt;</code></td>
      <td>less than</td>
    </tr>
    <tr>
      <td><code>&gt;=</code></td>
      <td>greater than or equal to</td>
    </tr>
    <tr>
      <td><code>&lt;=</code></td>
      <td>less than or equal to</td>
    </tr>
    <tr>
      <td><code>is</code></td>
      <td>true if the object has the specified type (see discussion below)</td>
    </tr>
    <tr>
      <td><code>is!</code></td>
      <td>false if the object has the specified type</td>
    </tr>
  </tbody>
</table>

<p>要测试<code>x</code>与<code>y</code>两个对象是否代表相同的事物，请使用<code>==</code>运算符。通常不必使用<code>===</code>运算符，该运算符用于测试两个对象是否是完全一样的对象。<code>==</code>运算符的工作原理如下：</p>

<ol>
  <li>如果<code>x===y</code>, 返回<code>true</code>.</li>
  <li>否则, 如果<code>x</code>或<code>y</code>为<code>null</code>, 返回<code>false</code>.</li>
  <li>否则，返回表达式<code>x.equals(y)</code>的结果.</li>
</ol>

<p><code>is</code>和<code>is!</code>运算符可方便检查类型。如果<code>obj</code>实现了<code>T</code>所指定的接口，则<code>obj is T</code>的结果为<code>true</code>。例如，<code>obj is Object</code>总为<code>true</code>。</p>

<p>下面的例子用到了各个相等性与关系运算符：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">a</span> <span class="o">=</span> <span class="m">2</span><span class="p">;</span>
</span><span class="line"><span class="kd">var</span> <span class="n">b</span> <span class="o">=</span> <span class="m">3</span><span class="p">;</span>
</span><span class="line"><span class="kd">var</span> <span class="n">c</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="m">2</span><span class="p">);</span>       <span class="c1">// 2 and 2 are equal.</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">a</span> <span class="o">!=</span> <span class="n">b</span><span class="p">);</span>       <span class="c1">// 2 and 3 aren&#39;t equal.</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">a</span> <span class="o">===</span> <span class="n">c</span><span class="p">);</span>      <span class="c1">// a and c are the same object.</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">a</span> <span class="o">!==</span> <span class="n">b</span><span class="p">);</span>      <span class="c1">// 2 and 3 aren&#39;t the same object.</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">b</span> <span class="o">&gt;</span> <span class="n">a</span><span class="p">);</span>        <span class="c1">// 3 is more than 2.</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">a</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">);</span>        <span class="c1">// 2 is less then 3.</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">b</span> <span class="o">&gt;=</span> <span class="n">b</span><span class="p">);</span>       <span class="c1">// 3 is greater than or equal to 3.</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">a</span> <span class="o">&lt;=</span> <span class="n">b</span><span class="p">);</span>       <span class="c1">// 2 is less than or equal to 3.</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">a</span> <span class="k">is</span> <span class="kt">num</span><span class="p">);</span>     <span class="c1">// 2 is a number.</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">a</span> <span class="k">is</span><span class="o">!</span> <span class="kt">String</span><span class="p">);</span> <span class="c1">// 2 is an int, not a string.</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><a href="#0">回到目录</a></p>

<h3 id="5.3">5.3赋值运算符(assignment operators)</h3>

<p>可以使用<code>=</code>运算符进行赋值。也可以使用组合赋值运算符。</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th>组合赋值符</th>
      <th>等效表达式</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>对运算符<code>op</code>:</td>
      <td><code>a op= b</code></td>
      <td><code>a = a op b</code></td>
    </tr>
    <tr>
      <td>例如:</td>
      <td><code>a += b</code></td>
      <td><code>a = a + b</code></td>
    </tr>
  </tbody>
</table>

<p>以下是所有的赋值运算符：</p>

<table>
  <tbody>
    <tr>
      <td><code>=</code></td>
      <td><code>+=</code></td>
      <td><code>–=</code></td>
      <td><code>*=</code></td>
    </tr>
    <tr>
      <td><code>/=</code></td>
      <td><code>~/=</code></td>
      <td><code>%=</code></td>
      <td><code>&lt;&lt;=</code></td>
    </tr>
    <tr>
      <td><code>&gt;&gt;=</code></td>
      <td><code>&amp;=</code></td>
      <td><code>^=</code></td>
      <td><code>|=</code></td>
    </tr>
  </tbody>
</table>

<p>下面的例子同时用到了赋值符和组合赋值运算符：</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">var</span> <span class="n">a</span> <span class="o">=</span> <span class="m">2</span><span class="p">;</span>           <span class="c1">// Assign using =</span>
</span><span class="line"><span class="n">a</span> <span class="o">*=</span> <span class="m">3</span><span class="p">;</span>              <span class="c1">// Assign and multiply: a = a * 3</span>
</span><span class="line"><span class="k">assert</span><span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="m">6</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><a href="#0">回到目录</a></p>

<h3 id="5.4">5.4逻辑运算符(logical operators)</h3>
<p>可以使用逻辑运算符对布尔表达式进行取反或组合。</p>

<table>
  <thead>
    <tr>
      <th>运算符(Operator)</th>
      <th>意义(Meaning)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>!expr</code></td>
      <td>反转以下表达式(<code>false</code>变为<code>true</code>，反之亦然)</td>
    </tr>
    <tr>
      <td><code>||</code></td>
      <td>logical OR</td>
    </tr>
    <tr>
      <td><code>&amp;&amp;</code></td>
      <td>logical AND</td>
    </tr>
  </tbody>
</table>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">done</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">col</span> <span class="o">==</span> <span class="m">0</span> <span class="o">||</span> <span class="n">col</span> <span class="o">==</span> <span class="m">3</span><span class="p">))</span> <span class="p">{</span>
</span><span class="line">  <span class="c1">// ...Do something...</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><a href="#0">回到目录</a></p>

<h3 id="5.5">5.5位操作与移位运算符(bitwise and shift operators)</h3>
<p>在 Dart 中，可以对对象的各位进行操作。这些运算符与整数一起使用。</p>

<table>
  <thead>
    <tr>
      <th>运算符(Operator)</th>
      <th>意义(Meaning)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>&amp;</code></td>
      <td>AND</td>
    </tr>
    <tr>
      <td><code>|</code></td>
      <td>OR</td>
    </tr>
    <tr>
      <td><code>^</code></td>
      <td>XOR</td>
    </tr>
    <tr>
      <td><code>~expr</code></td>
      <td>一元位取补 (0变1, 1变0)</td>
    </tr>
    <tr>
      <td><code>&lt;&lt;</code></td>
      <td>左移</td>
    </tr>
    <tr>
      <td><code>&gt;&gt;</code></td>
      <td>右移</td>
    </tr>
  </tbody>
</table>

<p>下例使用了位操作与移位运算符。</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="kd">final</span> <span class="n">value</span> <span class="o">=</span> <span class="mh">0x22</span><span class="p">;</span>
</span><span class="line"><span class="kd">final</span> <span class="n">bitmask</span> <span class="o">=</span> <span class="mh">0x0F</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="k">assert</span><span class="p">((</span><span class="n">value</span> <span class="o">&amp;</span> <span class="n">bitmask</span><span class="p">)</span>  <span class="o">==</span> <span class="mh">0x02</span><span class="p">);</span>  <span class="c1">// AND</span>
</span><span class="line"><span class="k">assert</span><span class="p">((</span><span class="n">value</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">bitmask</span><span class="p">)</span> <span class="o">==</span> <span class="mh">0x20</span><span class="p">);</span>  <span class="c1">// AND NOT</span>
</span><span class="line"><span class="k">assert</span><span class="p">((</span><span class="n">value</span> <span class="o">|</span> <span class="n">bitmask</span><span class="p">)</span>  <span class="o">==</span> <span class="mh">0x2f</span><span class="p">);</span>  <span class="c1">// OR</span>
</span><span class="line"><span class="k">assert</span><span class="p">((</span><span class="n">value</span> <span class="o">^</span> <span class="n">bitmask</span><span class="p">)</span>  <span class="o">==</span> <span class="mh">0x2d</span><span class="p">);</span>  <span class="c1">// XOR</span>
</span><span class="line"><span class="k">assert</span><span class="p">((</span><span class="n">value</span> <span class="o">&lt;&lt;</span> <span class="m">4</span><span class="p">)</span>       <span class="o">==</span> <span class="mh">0x220</span><span class="p">);</span>
</span><span class="line"><span class="k">assert</span><span class="p">((</span><span class="n">value</span> <span class="o">&gt;&gt;</span> <span class="m">4</span><span class="p">)</span>       <span class="o">==</span> <span class="mh">0x02</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="5.6">5.6其他运算符(other operators)</h3>

<table>
  <thead>
    <tr>
      <th>运算符(Operator)</th>
      <th>名称(Name)</th>
      <th>意义(Meaning)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>()</code></td>
      <td>函数应用</td>
      <td>代表函数调用</td>
    </tr>
    <tr>
      <td><code>[]</code></td>
      <td>列表访问</td>
      <td>列表特定索引位置的值</td>
    </tr>
    <tr>
      <td><code>expr1 ? expr2 : expr3</code></td>
      <td>条件</td>
      <td>如果<code>expr1</code>为<code>true</code>,则执行<code>expr2</code>;否则,执行<code>expr3</code>(技术上讲属于特别语法，不是运算符)</td>
    </tr>
    <tr>
      <td>.</td>
      <td>成员访问</td>
      <td>表示一个表达式的一个属性; 例:<code>foo.bar</code>从表达式<code>foo</code>中选取属性<code>bar</code></td>
    </tr>
  </tbody>
</table>

<h3 id="5.7">5.7运算符作为方法(operators as methods)</h3>
<p>运算符只是名字比较特别的实例方法。例如，表达式<code>1 + 2</code>调用了<code>1</code>的<code>+</code>方法，参数为<code>2</code>即<code>1.+(2)</code>。这种模型有重要意义：</p>

<ul>
  <li>Dart允许重载很多运算符。例如，如果定义了<code>Vector</code>类，可以再定义一个<code>+</code>方法，用来求两个向量之和。</li>
  <li>对于二元运算符，左侧的运算元决定了选用运算符的版本。例如，如果定义了一个<code>Vector</code>类和一个<code>Point</code>类，<code>aVector + aPoint</code>中会使用<code>Vector</code>版本的<code>+</code>。</li>
</ul>

<p>以下运算符可以重载：</p>

<table>
  <tbody>
    <tr>
      <td>&lt;</td>
      <td>&gt;</td>
      <td>&lt;=</td>
      <td>[]</td>
    </tr>
    <tr>
      <td>–</td>
      <td>+</td>
      <td>/</td>
      <td>[]= (list assignment)</td>
    </tr>
    <tr>
      <td>*</td>
      <td>%</td>
      <td>|</td>
      <td>~</td>
    </tr>
    <tr>
      <td>&amp;</td>
      <td>«</td>
      <td>»</td>
      <td>equals() (==) *</td>
    </tr>
    <tr>
      <td>&gt;=</td>
      <td>~/</td>
      <td>^</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h3 id="summary-of-operators">运算符总结(Summary of operators)</h3>
<p>Dart运算符的使用与行为一目了然。从技术层面来看，运算符是特别命名的方法，在首个操作数处调用。因此，操作数的顺序可能会造成差异：<code>a+b</code>的结果可能与<code>b+a</code>的不一定相同。你可以重载很多运算符。</p>

<p><a href="#0">回到目录</a></p>

<h2 id="6">控制流(Control flow)]</h2>
<p>可以使用下述语句控制Dart代码的执行流程：</p>

<ul>
  <li><a href="#6.1">If/else(If and else)</a></li>
  <li><a href="#6.2">For循环(For loops)</a></li>
  <li><a href="#6.3">While/do while(While and do while)</a></li>
  <li><a href="#6.4">Break/continue(Break and continue)</a></li>
  <li><a href="#6.5">Switch/case(Switch and case)</a></li>
  <li><a href="#6.6">Assert(Assert)</a></li>
</ul>

<h3 id="6.1">If/else</h3>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="dart"><span class="line"><span class="k">if</span> <span class="p">(</span><span class="n">isRaining</span><span class="p">())</span> <span class="p">{</span>
</span><span class="line">  <span class="n">you</span><span class="p">.</span><span class="n">bringRainCoat</span><span class="p">();</span>
</span><span class="line"><span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">isSnowing</span><span class="p">())</span> <span class="p">{</span>
</span><span class="line">  <span class="n">you</span><span class="p">.</span><span class="n">wearJacket</span><span class="p">();</span>
</span><span class="line"><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class="line">  <span class="n">car</span><span class="p">.</span><span class="n">putTopDown</span><span class="p">();</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>记住，与<code>JavaScript</code>不同，Dart将所有<code>非true</code>的值当作false对待。详情请参见布尔值。</p>

<h3 id="6.2">For循环</h3>
<h3 id="6.3">While/do while</h3>
<h3 id="6.4">Break/continue</h3>
<h3 id="6.5">Switch/case</h3>
<h3 id="6.6">Assert</h3>

<h2 id="7">异常(Exceptions)</h2>

<h2 id="8">类(Classes)</h2>

<h2 id="9">接口(Classes)</h2>

<h2 id="10">泛型(Generics)</h2>

<h2 id="11">库和可访问性(Libraries and visibility)</h2>

<h2 id="12">隔离(Isolates)</h2>

<h2 id="13">类型定义(Typedefs)</h2>

<h2 id="14">注释(Comments)</h2>

<hr />

<p>.…….=»&gt;TO BE CONTINUED=»&gt;.…….</p>

</div>


  <footer>
<!--     <p class="meta">
      
  

<span class="byline author vcard">@<span class="fn">vampirefan</span></span>

      








  


<time datetime="2012-09-26T21:07:00+08:00" pubdate data-updated="true">2012-09-26 09:07PM</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/coding/'>Coding</a>, <a class='category' href='/blog/categories/dart/'>Dart</a>, <a class='category' href='/blog/categories/share/'>Share</a>, <a class='category' href='/blog/categories/webdev/'>WebDev</a>
  
</span>


    </p> -->
    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2012/09/21/borderlands/" title="Previous Post: Borderlands">&laquo; Borderlands</a>
      
      
        <a class="basic-alignment right" href="/blog/2012/10/07/back-to-work/" title="Next Post: Back to Work">Back to Work &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>



    </div>
  </div>
  <footer role="contentinfo"><center>
<p>
  {vampirefan's Harbor} - Copyright &copy; 2011-2013 - 弯排帆|vampirefan 
  <!-- <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span> -->
</p>
</center>
</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'vampirefan-github-com';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://vampirefan.github.com/blog/2012/09/26/you-lan-dartyu-yan-fan-yi/';
        var disqus_url = 'http://vampirefan.github.com/blog/2012/09/26/you-lan-dartyu-yan-fan-yi/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











<script type="text/javascript">
(function(){
  //var mytop = new xttop();        //默认以文字

  //var mytop= new xttop({img:"defaults",bottom:"50px",right:"50px",speed:50,width:"60px",height:"60px"});  //可选参数  以图片显示
  
  var mytop=new xttop({img:"/images/totop0.png",width:"68px",height:"32px",speed:50});
})();
</script>

</body>
<script type="text/javascript">
document.addEventListener("keydown", function ( event ) {
  if ( ( event.keyCode >= 33 && event.keyCode <= 34 ) || (event.keyCode >= 37 && event.keyCode <= 40) || ( event.keyCode >= 74 && event.keyCode <= 75 ) ) {
      event.preventDefault();
    }
}, false);
  
document.addEventListener("keyup", function ( event ) {
  if ( ( event.keyCode >= 33 && event.keyCode <= 34 ) || (event.keyCode >= 37 && event.keyCode <= 40) || ( event.keyCode >= 74 && event.keyCode <= 75 ) ) {
    switch( event.keyCode ) {
      case 33: // pg up
      case 37: // left
      case 38: // up
      case 74: // j, J
        
          url = 'http://vampirefan.github.com/blog/2012/09/21/borderlands/';
        
               break;
      case 34: // pg down
      case 39: // right
      case 40: // down
      case 75: // k, K
        
          url = 'http://vampirefan.github.com/blog/2012/10/07/back-to-work/';
        
               break;
    }
    if (url) {
        window.location = url;
    }
    event.preventDefault();
  }
}, false);
</script>
</html>
